<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>CIS Control 1 Form</title>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script> <!-- Include Chart.js for the graph -->
    <style>
        body {
            font-family: Roboto, sans-serif;
            background-color: #f4f4f4;
            padding: 20px;
        }
        form {
            background-color: #fff;
            padding: 20px;
            border-radius: 8px;
            box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
            max-width: 800px;
            margin: 0 auto;
        }
        h1 {
            color: coral;
        }
        h2, h3 {
            color: coral;
            margin-bottom: 20px;
        }
        p, label {
            color: #333;
        }
        label {
            font-size: 14px;
            margin-bottom: 10px;
        }
        .input-field, select, textarea {
            width: 100%; /* Ensure equal length for all input boxes */
            margin-top: 5px;
            margin-bottom: 15px;
            padding: 10px;
            border: 1px solid teal;
            border-radius: 4px;
            color: #333;
            box-sizing: border-box;
        }
        button {
            padding: 12px 30px;
            background-color: coral;
            color: white;
            border: none;
            cursor: pointer;
            border-radius: 4px;
            font-size: 16px;
            display: block;
            margin: 20px auto;
        }
        button:hover {
            background-color: darkred;
        }
        .form-section {
            margin-bottom: 30px;
        }
        .version-number {
            position: absolute;
            top: 10px;
            right: 10px;
            font-size: 6pt;
            color: #666;
        }

        /* Progress bar styling */
        .progress-container {
            width: 100%;
            background-color: #f4f4f4;
            margin-bottom: 20px;
        }
        .progress-bar {
            width: 10%; /* Initial width, to be updated dynamically */
            height: 20px;
            background-color: coral;
            text-align: center;
            line-height: 20px;
            color: white;
        }

    </style>
</head>
<body>

    <!-- Version number -->
    <div class="version-number">v26.0</div>

    <!-- Progress bar -->
    <div class="progress-container">
        <div class="progress-bar" id="progressBar">10%</div>
    </div>

    <!-- Master heading -->
    <h1>ClearMap Cybersecurity Gap Analysis</h1>

    <!-- General Information Section (inside white box) -->
    <form id="control1Form">
        <h2>General Information</h2>

        <div class="form-section">
            <label for="name">Name:</label>
            <input type="text" id="name" name="name" class="input-field" required>
        </div>

        <div class="form-section">
            <label for="companyName">Company Name:</label>
            <input type="text" id="companyName" name="companyName" class="input-field" required>
        </div>

        <div class="form-section">
            <label for="numberOfUsers">Number of Users:</label>
            <input type="number" id="numberOfUsers" name="numberOfUsers" class="input-field" required>
        </div>

        <div class="form-section">
            <label for="email">Email Address:</label>
            <input type="email" id="email" name="email" class="input-field" required>
        </div>

        <div class="form-section">
            <label for="gapInterest">What interested you in a gap analysis? (e.g., compliance, best practice, third-party request)</label>
            <textarea id="gapInterest" name="gapInterest" class="input-field" placeholder="What are your drivers?" required></textarea>
        </div>

        <!-- CIS Control 1 Section -->
        <h2>CIS Control 1: Inventory and Control of Enterprise Assets</h2>

        <!-- Dropdown Question: Are you compliant with one or more frameworks? -->
        <div class="form-section">
            <label for="frameworkCompliance"><span class="question-number">1)</span> Are you compliant with one or more cybersecurity frameworks such as Cyber Essentials, NIST, ISO 27001, etc.?</label>
            <select id="frameworkCompliance" name="frameworkCompliance" class="input-field" onchange="toggleFrameworkDetails()">
                <option value="" disabled selected>Select an option</option>
                <option value="No" class="red-option">No</option>
                <option value="Yes" class="green-option">Yes (please enter below)</option>
            </select>
        </div>

        <!-- Text box to list frameworks if the answer is "Yes" -->
        <div class="comment" id="frameworkDetailsContainer" style="display:none;">
            <label for="frameworkDetails">Please list the frameworks:</label>
            <textarea id="frameworkDetails" name="frameworkDetails" class="input-field" placeholder="List your frameworks here..."></textarea>
        </div>

        <!-- Control 1 Questions -->
        <div class="form-section">
            <label for="q2"><span class="question-number">2)</span> Do you maintain an updated inventory of all hardware assets?</label>
            <select id="q2" name="q2" class="input-field">
                <option value="1">We have no centralised inventory of hardware assets.</option>
                <option value="2">We maintain a basic, informal list of some hardware assets.</option>
                <option value="3">We maintain an inventory, but it is updated only during periodic audits.</option>
                <option value="4">We maintain an automated, centralised hardware inventory.</option>
                <option value="5">We have a comprehensive, automated inventory that tracks all hardware assets in real-time.</option>
            </select>
            <!-- Comments box -->
            <textarea id="q2Comments" name="q2Comments" class="input-field" placeholder="Add comments or context here (optional)..."></textarea>
        </div>

        <div class="form-section">
            <label for="q3"><span class="question-number">3)</span> Do you have policies for managing unauthorised hardware?</label>
            <select id="q3" name="q3" class="input-field">
                <option value="1">We do not have processes to detect or manage unauthorised hardware.</option>
                <option value="2">We have ad-hoc policies, but they are rarely enforced.</option>
                <option value="3">We detect unauthorised hardware, but enforcement is inconsistent.</option>
                <option value="4">We detect and respond to unauthorised hardware through automated tools.</option>
                <option value="5">We have a fully automated system that detects, isolates, and removes unauthorised hardware in real-time.</option>
            </select>
            <!-- Comments box -->
            <textarea id="q3Comments" name="q3Comments" class="input-field" placeholder="Add comments or context here (optional)..."></textarea>
        </div>

        <div class="form-section">
            <label for="q4"><span class="question-number">4)</span> Do you have a documented onboarding process for hardware?</label>
            <select id="q4" name="q4" class="input-field">
                <option value="1">There is no formal onboarding process for new hardware.</option>
                <option value="2">New hardware is configured manually, with no formal documentation or security check.</option>
                <option value="3">We have a partially documented process that includes security checks for new hardware.</option>
                <option value="4">We have a documented and secure onboarding process for most hardware.</option>
                <option value="5">We have a fully documented and enforced onboarding process for all hardware, including security checks.</option>
            </select>
            <!-- Comments box -->
            <textarea id="q4Comments" name="q4Comments" class="input-field" placeholder="Add comments or context here (optional)..."></textarea>
        </div>

        <!-- Next Control Button -->
        <button type="button" onclick="nextControl()">Next Control</button>

    </form>

    <script>
    // Function to show/hide the framework details textbox based on dropdown selection
    function toggleFrameworkDetails() {
        var dropdown = document.getElementById("frameworkCompliance");
        var detailsContainer = document.getElementById("frameworkDetailsContainer");

         if (dropdown.value === "Yes") {
            detailsContainer.style.display = "block"; // Show the text box when "Yes" is selected
        } else {
            detailsContainer.style.display = "none"; // Hide it if "No" is selected
        }
    }

    function nextControl() {
        // Update progress bar based on the percentage of completed controls
        var progressBar = document.getElementById("progressBar");
        var currentProgress = parseInt(progressBar.style.width); // Get current percentage
        var newProgress = currentProgress + 10; // Increase by 10% for each control
        if (newProgress <= 100) {
            progressBar.style.width = newProgress + "%"; // Update the progress bar width
            progressBar.innerHTML = newProgress + "%"; // Update the progress bar text
        }

        // Capture and log form data
        const name = document.getElementById('name').value;
        const companyName = document.getElementById('companyName').value;
        const numberOfUsers = document.getElementById('numberOfUsers').value;
        const email = document.getElementById('email').value;
        const gapInterest = document.getElementById('gapInterest').value;
        const frameworkCompliance = document.getElementById('frameworkCompliance').value;
        const frameworkDetails = document.getElementById('frameworkDetails').value;
        const q2 = document.getElementById('q2').value;
        const q2Comments = document.getElementById('q2Comments').value;
        const q3 = document.getElementById('q3').value;
        const q3Comments = document.getElementById('q3Comments').value;
        const q4 = document.getElementById('q4').value;
        const q4Comments = document.getElementById('q4Comments').value;

        // Log data to console for now (you can replace this with actual submission code)
        console.log("Name:", name);
        console.log("Company Name:", companyName);
        console.log("Number of Users:", numberOfUsers);
        console.log("Email:", email);
        console.log("Gap Interest:", gapInterest);
        console.log("Framework Compliance:", frameworkCompliance);
        console.log("Framework Details:", frameworkDetails);
        console.log("Inventory Score:", q2);
        console.log("Inventory Comments:", q2Comments);
        console.log("Unauthorised Hardware Score:", q3);
        console.log("Unauthorised Hardware Comments:", q3Comments);
        console.log("Onboarding Score:", q4);
        console.log("Onboarding Comments:", q4Comments);

        // Example of alert for next control (in actual use, this could navigate to the next control section)
        alert("Moving to the next control. Your data will be saved.");
        // You can add redirection or form submission code here later
    }
    </script>
</body>
</html>
